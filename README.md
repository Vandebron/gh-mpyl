# Modular Pypeline Library
[![Checked with mypy](http://www.mypy-lang.org/static/mypy_badge.svg)](http://mypy-lang.org/)

[![linting: pylint](https://img.shields.io/badge/linting-pylint-yellowgreen)](https://github.com/PyCQA/pylint)
<a href="https://github.com/psf/black"><img alt="Code style: black" src="https://img.shields.io/badge/code%20style-black-000000.svg"></a>

[![python](https://img.shields.io/badge/Python-3.11-3776AB.svg?style=flat&logo=python&logoColor=white)](https://www.python.org)

# What is gh-mpyl?

gh-mpyl is a minimal version of [MPyL](https://vandebron.github.io/mpyl), packaged in a docker container action.
It is a python library for creating a run plan and generating helm charts.


## ðŸ“š Principles

MPyL is built with the following principles in mind.
- **Not a platform** It is not tied to any CI/CD platform. MPyL is a library, not a framework. It is not a runner,
  not a scheduler, and it doesn't have a GUI. It can be plugged into any CI/CD platform.
- **Accessible and maintainable**
    - Written in Python, the most widely adopted scripting language with an extensive amount of client libraries relevant to CI/CD.
    - Strongly typed: `MyPy` type hints and schemas for all `YAML` files. Clearly defined interfaces for inputs
      and outputs of steps.
    - Focus on short feedback loop. Unit testable and everything can be run locally.
- **Self documented** by [docstrings](https://vandebron.github.io/mpyl) in the code, descriptions in the schemas
  and explanations in the CLI.
- **Python as YAML templating engine** Attempts to mix markup and logic tend to have a
  [worst of both worlds](https://anthonyhawkins.medium.com/is-python-the-perfect-json-yaml-templating-engine-c5c1b32418f6)
  outcome. MPyL uses `YAML` strictly for configuration. Where `YAML` needs to produced dynamically, like for CRDs via
  HELM charts, it is generated by Python code. The produced `YAML` is validated against the corresponding schemas.
- **Extensible** Support for the most common use cases (e.g. Docker, Helm, Kubernetes, AWS, etc.) is built-in.
  But it is easy to extend with your own `mpyl.steps`.

## ðŸ’» Technologies

### Requirements
The following technologies are expected to be present on the local OS:
- [Python](https://www.python.org/) >= 3.11
- [Pip](https://pypi.org/project/pip/) >= 23.0.1
- [Docker](https://www.docker.com/) > 20
- [Git](https://git-scm.com/) SCM

### Bundled
MPyL is extensible and has a minimal footprint. Having said that, batteries for the following technologies are included.

##### CI/CD

###### Deployment
- [K8S](https://kubernetes.io/) `mpyl.steps.deploy.kubernetes`
- [Helm](https://helm.sh/) `mpyl.steps.deploy.k8s.helm`
